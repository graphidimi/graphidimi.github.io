<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Untitled Document</title>
<link href="jquery-ui-1.11.4/jquery-ui.min.css">
<style>
#rect01 {
	width:70px; height:70px;
	position:absolute;
	background-color:hsl(0, 100%, 50%);
	cursor:move;
}

</style>
<script src="jquery-1.11.1.min.js"></script>
<script src="jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="dat.gui.min.js"></script>

<script>

$(document).ready(function() {
    $( "#rect01" ).draggable();
});
  
</script>

<script>

window.onload = function(){

	var gui = new dat.GUI();
	  
	var DatGui = function(){ 
		this.angle = 0;
		this.posAlea = function(){
			aleatoire();
		};
	};
	  
	var monGui = new DatGui();
	
	var monAngle = gui.add(monGui, 'angle', 0, 360);
	gui.add(monGui, 'posAlea');
    
	monAngle.onChange(function(value){
		document.getElementById('rect01').style.transform = 'rotate(' + monGui.angle +'deg)';
		document.getElementById('rect01').style.backgroundColor = 'hsl(' + monGui.angle +',100%,50%)';
	});
	
	function aleatoire() {
		var posX = Math.random()*window.innerWidth;
		var posY = Math.random()*window.innerHeight;
		var angleA = Math.random()*360;
		$( "#rect01" ).animate({ 
			'left': posX+'px', 
			'top': posY+'px'
			 }, {
			step: function(angleA) {
		  			$(this).css('transform','rotate('+angleA+'deg)');
					$(this).css('background-color','hsl('+angleA+',100%,50%)');
				  }
			},
		"slow" );
		$
		$( "#rect01" ).css('transform','rotate('+angleA+'deg)');  
	}

}

</script>
</head>

<body>

<div id="rect01" class="ui-widget-content"></div>

</body>
</html>
